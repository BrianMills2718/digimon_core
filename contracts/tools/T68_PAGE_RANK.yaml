tool_id: "T68_PAGE_RANK"
name: "PageRank Calculator"
description: "Calculates PageRank scores for entities in the graph database"
version: "1.0.0"
category: "analysis"

input_schema:
  type: object
  properties:
    damping_factor:
      type: number
      minimum: 0
      maximum: 1
      default: 0.85
      description: "PageRank damping factor"
    max_iterations:
      type: integer
      minimum: 1
      maximum: 1000
      default: 100
      description: "Maximum iterations for convergence"
    tolerance:
      type: number
      minimum: 0
      default: 0.000001
      description: "Convergence tolerance"
  required: []

output_schema:
  type: object
  properties:
    ranked_entities:
      type: array
      items:
        type: object
        properties:
          entity_id:
            type: string
          canonical_name:
            type: string
          pagerank_score:
            type: number
          rank:
            type: integer
        required: ["entity_id", "pagerank_score", "rank"]
    total_entities:
      type: integer
      minimum: 0
    algorithm_stats:
      type: object
      properties:
        iterations:
          type: integer
        converged:
          type: boolean
        damping_factor:
          type: number
        tolerance:
          type: number
    graph_stats:
      type: object
      properties:
        node_count:
          type: integer
        edge_count:
          type: integer
  required: ["ranked_entities", "total_entities"]

depends_on: ["T31_ENTITY_BUILDER", "T34_EDGE_BUILDER"]

dependencies:
  - "neo4j"
  - "networkx"

performance_requirements:
  max_execution_time: 60.0
  max_memory_mb: 1000
  min_accuracy: 0.95

error_conditions:
  - "DATABASE_CONNECTION_ERROR"
  - "INSUFFICIENT_DATA"
  - "CONVERGENCE_ERROR"
  - "INVALID_INPUT"